{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jesus\\\\Documents\\\\DaniProject\\\\react-api-mini\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { ThemeProvider } from \"./context/ThemeContext\";\nimport Header from \"./components/Header\";\nimport WeatherList from \"./components/WeatherList\";\nimport CurrentCard from \"./components/CurrentCard\";\nimport { fetchCurrentWeather } from \"./services/weather\";\nimport { CITIES } from \"./components/CityPicker\";\nimport WeeklyForecast from \"./components/WeeklyForecast\";\n\n// nuevos componentes\nimport Login from \"./components/Login\";\nimport Home from \"./components/Home\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [isLogged, setIsLogged] = useState(false);\n  const [view, setView] = useState(\"menu\"); // \"menu\" | \"clima\"\n\n  const [city, setCity] = useState(CITIES[1]);\n  const [current, setCurrent] = useState(null);\n\n  // solo pedimos el clima cuando:\n  //  - ya inició sesión\n  //  - y está en la vista \"clima\"\n  useEffect(() => {\n    if (!isLogged || view !== \"clima\") return;\n    let alive = true;\n    (async () => {\n      try {\n        const data = await fetchCurrentWeather(city);\n        if (alive) setCurrent(data);\n      } catch {\n        if (alive) setCurrent(null);\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, [isLogged, view, city.latitude, city.longitude]);\n\n  // cuando el usuario elige una app en el menú\n  const handleSelectApp = app => {\n    if (app === \"clima\") {\n      setView(\"clima\");\n    } else if (app === \"app2\") {\n      window.open(\"https://ejemplo-app2.com\", \"_blank\");\n    } else if (app === \"app3\") {\n      window.open(\"https://ejemplo-app3.com\", \"_blank\");\n    } else if (app === \"app4\") {\n      window.open(\"https://ejemplo-app4.com\", \"_blank\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    children: [!isLogged && /*#__PURE__*/_jsxDEV(Login, {\n      onLogin: () => setIsLogged(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), isLogged && view === \"menu\" && /*#__PURE__*/_jsxDEV(Home, {\n      onSelectApp: handleSelectApp\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), isLogged && view === \"clima\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        city: city,\n        onCityChange: setCity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"container row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(CurrentCard, {\n            current: current\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: 0\n            },\n            children: \"Hoy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(WeatherList, {\n            city: city\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(WeeklyForecast, {\n            city: city\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"itedAMKzsV29lMiLX1EGPsWGh0k=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","ThemeProvider","Header","WeatherList","CurrentCard","fetchCurrentWeather","CITIES","WeeklyForecast","Login","Home","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","isLogged","setIsLogged","view","setView","city","setCity","current","setCurrent","alive","data","latitude","longitude","handleSelectApp","app","window","open","children","onLogin","fileName","_jsxFileName","lineNumber","columnNumber","onSelectApp","onCityChange","className","style","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/jesus/Documents/DaniProject/react-api-mini/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { ThemeProvider } from \"./context/ThemeContext\";\nimport Header from \"./components/Header\";\nimport WeatherList from \"./components/WeatherList\";\nimport CurrentCard from \"./components/CurrentCard\";\nimport { fetchCurrentWeather } from \"./services/weather\";\nimport { CITIES } from \"./components/CityPicker\";\nimport WeeklyForecast from \"./components/WeeklyForecast\";\n\n// nuevos componentes\nimport Login from \"./components/Login\";\nimport Home from \"./components/Home\";\n\nexport default function App() {\n  const [isLogged, setIsLogged] = useState(false);\n  const [view, setView] = useState(\"menu\"); // \"menu\" | \"clima\"\n\n  const [city, setCity] = useState(CITIES[1]);\n  const [current, setCurrent] = useState(null);\n\n  // solo pedimos el clima cuando:\n  //  - ya inició sesión\n  //  - y está en la vista \"clima\"\n  useEffect(() => {\n    if (!isLogged || view !== \"clima\") return;\n\n    let alive = true;\n    (async () => {\n      try {\n        const data = await fetchCurrentWeather(city);\n        if (alive) setCurrent(data);\n      } catch {\n        if (alive) setCurrent(null);\n      }\n    })();\n\n    return () => {\n      alive = false;\n    };\n  }, [isLogged, view, city.latitude, city.longitude]);\n\n  // cuando el usuario elige una app en el menú\n  const handleSelectApp = (app) => {\n    if (app === \"clima\") {\n      setView(\"clima\");\n    } else if (app === \"app2\") {\n      window.open(\"https://ejemplo-app2.com\", \"_blank\");\n    } else if (app === \"app3\") {\n      window.open(\"https://ejemplo-app3.com\", \"_blank\");\n    } else if (app === \"app4\") {\n      window.open(\"https://ejemplo-app4.com\", \"_blank\");\n    }\n  };\n\n  return (\n    <ThemeProvider>\n      {/* 1️⃣ Si NO está logueado → solo login */}\n      {!isLogged && (\n        <Login onLogin={() => setIsLogged(true)} />\n      )}\n\n      {/* 2️⃣ Logueado y en menú → 4 opciones */}\n      {isLogged && view === \"menu\" && (\n        <Home onSelectApp={handleSelectApp} />\n      )}\n\n      {/* 3️⃣ Logueado y en vista \"clima\" → tu app de clima completa */}\n      {isLogged && view === \"clima\" && (\n        <>\n          <Header city={city} onCityChange={setCity} />\n          <main className=\"container row\">\n            <div className=\"card\">\n              <CurrentCard current={current} />\n            </div>\n\n            <div className=\"card\">\n              <h3 style={{ marginTop: 0 }}>Hoy</h3>\n              <WeatherList city={city} />\n            </div>\n\n            <div className=\"card\">\n              <WeeklyForecast city={city} />\n            </div>\n          </main>\n        </>\n      )}\n    </ThemeProvider>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}