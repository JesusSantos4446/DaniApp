{"ast":null,"code":"const WMO = {\n  0: \"Despejado\",\n  1: \"Mayormente despejado\",\n  2: \"Parcialmente nublado\",\n  3: \"Nublado\",\n  45: \"Neblina\",\n  48: \"Neblina con escarcha\",\n  51: \"Llovizna ligera\",\n  53: \"Llovizna\",\n  55: \"Llovizna intensa\",\n  61: \"Lluvia ligera\",\n  63: \"Lluvia\",\n  65: \"Lluvia intensa\",\n  71: \"Nieve ligera\",\n  73: \"Nieve\",\n  75: \"Nieve intensa\",\n  80: \"Chubascos ligeros\",\n  81: \"Chubascos\",\n  82: \"Chubascos intensos\",\n  95: \"Tormenta\",\n  96: \"Tormenta con granizo\",\n  99: \"Tormenta fuerte con granizo\"\n};\nexport async function fetchHourlyWeather({\n  latitude,\n  longitude,\n  timezone = \"auto\"\n}) {\n  var _data$hourly, _data$hourly2;\n  const url = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&hourly=temperature_2m&forecast_days=1&timezone=${timezone}`;\n  const res = await fetch(url);\n  if (!res.ok) throw new Error(\"Failed to fetch weather\");\n  const data = await res.json();\n  const times = (data === null || data === void 0 ? void 0 : (_data$hourly = data.hourly) === null || _data$hourly === void 0 ? void 0 : _data$hourly.time) || [];\n  const temps = (data === null || data === void 0 ? void 0 : (_data$hourly2 = data.hourly) === null || _data$hourly2 === void 0 ? void 0 : _data$hourly2.temperature_2m) || [];\n  return times.map((iso, i) => ({\n    iso,\n    temp: temps[i]\n  }));\n}\nexport async function fetchCurrentWeather({\n  latitude,\n  longitude,\n  timezone = \"auto\"\n}) {\n  const url = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current=temperature_2m,apparent_temperature,weather_code,relative_humidity_2m,wind_speed_10m,is_day&timezone=${timezone}`;\n  const res = await fetch(url);\n  if (!res.ok) throw new Error(\"Failed to fetch current weather\");\n  const data = await res.json();\n  const c = data.current || {};\n  return {\n    temperature: c.temperature_2m,\n    feels_like: c.apparent_temperature,\n    weather_code: c.weather_code,\n    weather_text: WMO[c.weather_code] || \"—\",\n    humidity: c.relative_humidity_2m,\n    wind_kmh: c.wind_speed_10m,\n    is_day: !!c.is_day\n  };\n}\nexport async function searchCities(query, limit = 10) {\n  if (!query || query.trim().length < 2) return [];\n  const url = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(query)}&count=${limit}&language=es&format=json`;\n  const res = await fetch(url);\n  if (!res.ok) throw new Error(\"Failed to search cities\");\n  const data = await res.json();\n  return (data.results || []).map(r => ({\n    id: `${r.name}-${r.latitude}-${r.longitude}`,\n    name: r.name,\n    country: r.country,\n    admin1: r.admin1,\n    latitude: r.latitude,\n    longitude: r.longitude,\n    label: `${r.name}${r.admin1 ? \", \" + r.admin1 : \"\"}, ${r.country}`\n  }));\n}","map":{"version":3,"names":["WMO","fetchHourlyWeather","latitude","longitude","timezone","_data$hourly","_data$hourly2","url","res","fetch","ok","Error","data","json","times","hourly","time","temps","temperature_2m","map","iso","i","temp","fetchCurrentWeather","c","current","temperature","feels_like","apparent_temperature","weather_code","weather_text","humidity","relative_humidity_2m","wind_kmh","wind_speed_10m","is_day","searchCities","query","limit","trim","length","encodeURIComponent","results","r","id","name","country","admin1","label"],"sources":["C:/Users/jesus/Documents/DaniProject/react-api-mini/src/services/weather.js"],"sourcesContent":["const WMO = {\r\n  0: \"Despejado\", 1: \"Mayormente despejado\", 2: \"Parcialmente nublado\", 3: \"Nublado\",\r\n  45: \"Neblina\", 48: \"Neblina con escarcha\",\r\n  51: \"Llovizna ligera\", 53: \"Llovizna\", 55: \"Llovizna intensa\",\r\n  61: \"Lluvia ligera\", 63: \"Lluvia\", 65: \"Lluvia intensa\",\r\n  71: \"Nieve ligera\", 73: \"Nieve\", 75: \"Nieve intensa\",\r\n  80: \"Chubascos ligeros\", 81: \"Chubascos\", 82: \"Chubascos intensos\",\r\n  95: \"Tormenta\", 96: \"Tormenta con granizo\", 99: \"Tormenta fuerte con granizo\"\r\n};\r\n\r\nexport async function fetchHourlyWeather({ latitude, longitude, timezone = \"auto\" }) {\r\n  const url = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&hourly=temperature_2m&forecast_days=1&timezone=${timezone}`;\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error(\"Failed to fetch weather\");\r\n  const data = await res.json();\r\n  const times = data?.hourly?.time || [];\r\n  const temps = data?.hourly?.temperature_2m || [];\r\n  return times.map((iso, i) => ({ iso, temp: temps[i] }));\r\n}\r\n\r\nexport async function fetchCurrentWeather({ latitude, longitude, timezone = \"auto\" }) {\r\n  const url = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current=temperature_2m,apparent_temperature,weather_code,relative_humidity_2m,wind_speed_10m,is_day&timezone=${timezone}`;\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error(\"Failed to fetch current weather\");\r\n  const data = await res.json();\r\n  const c = data.current || {};\r\n  return {\r\n    temperature: c.temperature_2m,\r\n    feels_like: c.apparent_temperature,\r\n    weather_code: c.weather_code,\r\n    weather_text: WMO[c.weather_code] || \"—\",\r\n    humidity: c.relative_humidity_2m,\r\n    wind_kmh: c.wind_speed_10m,\r\n    is_day: !!c.is_day\r\n  };\r\n}\r\n\r\nexport async function searchCities(query, limit = 10) {\r\n  if (!query || query.trim().length < 2) return [];\r\n  const url = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(query)}&count=${limit}&language=es&format=json`;\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error(\"Failed to search cities\");\r\n  const data = await res.json();\r\n  return (data.results || []).map(r => ({\r\n    id: `${r.name}-${r.latitude}-${r.longitude}`,\r\n    name: r.name,\r\n    country: r.country,\r\n    admin1: r.admin1,\r\n    latitude: r.latitude,\r\n    longitude: r.longitude,\r\n    label: `${r.name}${r.admin1 ? \", \" + r.admin1 : \"\"}, ${r.country}`\r\n  }));\r\n}\r\n"],"mappings":"AAAA,MAAMA,GAAG,GAAG;EACV,CAAC,EAAE,WAAW;EAAE,CAAC,EAAE,sBAAsB;EAAE,CAAC,EAAE,sBAAsB;EAAE,CAAC,EAAE,SAAS;EAClF,EAAE,EAAE,SAAS;EAAE,EAAE,EAAE,sBAAsB;EACzC,EAAE,EAAE,iBAAiB;EAAE,EAAE,EAAE,UAAU;EAAE,EAAE,EAAE,kBAAkB;EAC7D,EAAE,EAAE,eAAe;EAAE,EAAE,EAAE,QAAQ;EAAE,EAAE,EAAE,gBAAgB;EACvD,EAAE,EAAE,cAAc;EAAE,EAAE,EAAE,OAAO;EAAE,EAAE,EAAE,eAAe;EACpD,EAAE,EAAE,mBAAmB;EAAE,EAAE,EAAE,WAAW;EAAE,EAAE,EAAE,oBAAoB;EAClE,EAAE,EAAE,UAAU;EAAE,EAAE,EAAE,sBAAsB;EAAE,EAAE,EAAE;AAClD,CAAC;AAED,OAAO,eAAeC,kBAAkBA,CAAC;EAAEC,QAAQ;EAAEC,SAAS;EAAEC,QAAQ,GAAG;AAAO,CAAC,EAAE;EAAA,IAAAC,YAAA,EAAAC,aAAA;EACnF,MAAMC,GAAG,GAAG,mDAAmDL,QAAQ,cAAcC,SAAS,mDAAmDC,QAAQ,EAAE;EAC3J,MAAMI,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,CAAC;EAC5B,IAAI,CAACC,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;EACvD,MAAMC,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC;EAC7B,MAAMC,KAAK,GAAG,CAAAF,IAAI,aAAJA,IAAI,wBAAAP,YAAA,GAAJO,IAAI,CAAEG,MAAM,cAAAV,YAAA,uBAAZA,YAAA,CAAcW,IAAI,KAAI,EAAE;EACtC,MAAMC,KAAK,GAAG,CAAAL,IAAI,aAAJA,IAAI,wBAAAN,aAAA,GAAJM,IAAI,CAAEG,MAAM,cAAAT,aAAA,uBAAZA,aAAA,CAAcY,cAAc,KAAI,EAAE;EAChD,OAAOJ,KAAK,CAACK,GAAG,CAAC,CAACC,GAAG,EAAEC,CAAC,MAAM;IAAED,GAAG;IAAEE,IAAI,EAAEL,KAAK,CAACI,CAAC;EAAE,CAAC,CAAC,CAAC;AACzD;AAEA,OAAO,eAAeE,mBAAmBA,CAAC;EAAErB,QAAQ;EAAEC,SAAS;EAAEC,QAAQ,GAAG;AAAO,CAAC,EAAE;EACpF,MAAMG,GAAG,GAAG,mDAAmDL,QAAQ,cAAcC,SAAS,iHAAiHC,QAAQ,EAAE;EACzN,MAAMI,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,CAAC;EAC5B,IAAI,CAACC,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,iCAAiC,CAAC;EAC/D,MAAMC,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC;EAC7B,MAAMW,CAAC,GAAGZ,IAAI,CAACa,OAAO,IAAI,CAAC,CAAC;EAC5B,OAAO;IACLC,WAAW,EAAEF,CAAC,CAACN,cAAc;IAC7BS,UAAU,EAAEH,CAAC,CAACI,oBAAoB;IAClCC,YAAY,EAAEL,CAAC,CAACK,YAAY;IAC5BC,YAAY,EAAE9B,GAAG,CAACwB,CAAC,CAACK,YAAY,CAAC,IAAI,GAAG;IACxCE,QAAQ,EAAEP,CAAC,CAACQ,oBAAoB;IAChCC,QAAQ,EAAET,CAAC,CAACU,cAAc;IAC1BC,MAAM,EAAE,CAAC,CAACX,CAAC,CAACW;EACd,CAAC;AACH;AAEA,OAAO,eAAeC,YAAYA,CAACC,KAAK,EAAEC,KAAK,GAAG,EAAE,EAAE;EACpD,IAAI,CAACD,KAAK,IAAIA,KAAK,CAACE,IAAI,CAAC,CAAC,CAACC,MAAM,GAAG,CAAC,EAAE,OAAO,EAAE;EAChD,MAAMjC,GAAG,GAAG,uDAAuDkC,kBAAkB,CAACJ,KAAK,CAAC,UAAUC,KAAK,0BAA0B;EACrI,MAAM9B,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,CAAC;EAC5B,IAAI,CAACC,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;EACvD,MAAMC,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC;EAC7B,OAAO,CAACD,IAAI,CAAC8B,OAAO,IAAI,EAAE,EAAEvB,GAAG,CAACwB,CAAC,KAAK;IACpCC,EAAE,EAAE,GAAGD,CAAC,CAACE,IAAI,IAAIF,CAAC,CAACzC,QAAQ,IAAIyC,CAAC,CAACxC,SAAS,EAAE;IAC5C0C,IAAI,EAAEF,CAAC,CAACE,IAAI;IACZC,OAAO,EAAEH,CAAC,CAACG,OAAO;IAClBC,MAAM,EAAEJ,CAAC,CAACI,MAAM;IAChB7C,QAAQ,EAAEyC,CAAC,CAACzC,QAAQ;IACpBC,SAAS,EAAEwC,CAAC,CAACxC,SAAS;IACtB6C,KAAK,EAAE,GAAGL,CAAC,CAACE,IAAI,GAAGF,CAAC,CAACI,MAAM,GAAG,IAAI,GAAGJ,CAAC,CAACI,MAAM,GAAG,EAAE,KAAKJ,CAAC,CAACG,OAAO;EAClE,CAAC,CAAC,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}