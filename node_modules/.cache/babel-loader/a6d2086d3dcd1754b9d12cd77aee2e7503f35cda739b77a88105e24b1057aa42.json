{"ast":null,"code":"// src/components/WeatherList.jsx\nimport React,{useEffect,useState}from\"react\";import{fetchHourlyWeather}from\"../services/weather\";import WeatherItem from\"./WeatherItem\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function WeatherList(_ref){let{city}=_ref;const[hours,setHours]=useState([]);const[loading,setLoading]=useState(true);const[err,setErr]=useState(null);useEffect(()=>{let alive=true;setLoading(true);setErr(null);(async()=>{try{const data=await fetchHourlyWeather(city);if(alive)setHours(data);}catch(e){if(alive)setErr((e===null||e===void 0?void 0:e.message)||\"Unknown error\");}finally{if(alive)setLoading(false);}})();return()=>{alive=false;};},[city.latitude,city.longitude]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:\"Cargando clima\\u2026\"});if(err)return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{color:\"crimson\"},children:[\"Error: \",err]});return/*#__PURE__*/_jsx(\"div\",{className:\"hours-wrap\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"hours\",children:hours.map(h=>/*#__PURE__*/_jsx(WeatherItem,{hour:h},h.iso))})});}","map":{"version":3,"names":["React","useEffect","useState","fetchHourlyWeather","WeatherItem","jsx","_jsx","jsxs","_jsxs","WeatherList","_ref","city","hours","setHours","loading","setLoading","err","setErr","alive","data","e","message","latitude","longitude","className","children","style","color","map","h","hour","iso"],"sources":["C:/Users/jesus/Documents/DaniProject/react-api-mini/src/components/WeatherList.jsx"],"sourcesContent":["// src/components/WeatherList.jsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { fetchHourlyWeather } from \"../services/weather\";\r\nimport WeatherItem from \"./WeatherItem\";\r\n\r\nexport default function WeatherList({ city }) {\r\n  const [hours, setHours] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [err, setErr] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let alive = true;\r\n    setLoading(true);\r\n    setErr(null);\r\n    (async () => {\r\n      try {\r\n        const data = await fetchHourlyWeather(city);\r\n        if (alive) setHours(data);\r\n      } catch (e) {\r\n        if (alive) setErr(e?.message || \"Unknown error\");\r\n      } finally {\r\n        if (alive) setLoading(false);\r\n      }\r\n    })();\r\n    return () => { alive = false; };\r\n  }, [city.latitude, city.longitude]);\r\n\r\n  if (loading) return <div className=\"card\">Cargando climaâ€¦</div>;\r\n  if (err) return <div className=\"card\" style={{ color: \"crimson\" }}>Error: {err}</div>;\r\n\r\n  return (\r\n    <div className=\"hours-wrap\">\r\n      <ul className=\"hours\">\r\n        {hours.map(h => <WeatherItem key={h.iso} hour={h} />)}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,kBAAkB,KAAQ,qBAAqB,CACxD,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,cAAe,SAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAW,IAAV,CAAEC,IAAK,CAAC,CAAAD,IAAA,CAC1C,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACc,GAAG,CAAEC,MAAM,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAEpCD,SAAS,CAAC,IAAM,CACd,GAAI,CAAAiB,KAAK,CAAG,IAAI,CAChBH,UAAU,CAAC,IAAI,CAAC,CAChBE,MAAM,CAAC,IAAI,CAAC,CACZ,CAAC,SAAY,CACX,GAAI,CACF,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAAhB,kBAAkB,CAACQ,IAAI,CAAC,CAC3C,GAAIO,KAAK,CAAEL,QAAQ,CAACM,IAAI,CAAC,CAC3B,CAAE,MAAOC,CAAC,CAAE,CACV,GAAIF,KAAK,CAAED,MAAM,CAAC,CAAAG,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAEC,OAAO,GAAI,eAAe,CAAC,CAClD,CAAC,OAAS,CACR,GAAIH,KAAK,CAAEH,UAAU,CAAC,KAAK,CAAC,CAC9B,CACF,CAAC,EAAE,CAAC,CACJ,MAAO,IAAM,CAAEG,KAAK,CAAG,KAAK,CAAE,CAAC,CACjC,CAAC,CAAE,CAACP,IAAI,CAACW,QAAQ,CAAEX,IAAI,CAACY,SAAS,CAAC,CAAC,CAEnC,GAAIT,OAAO,CAAE,mBAAOR,IAAA,QAAKkB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,sBAAe,CAAK,CAAC,CAC/D,GAAIT,GAAG,CAAE,mBAAOR,KAAA,QAAKgB,SAAS,CAAC,MAAM,CAACE,KAAK,CAAE,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAF,QAAA,EAAC,SAAO,CAACT,GAAG,EAAM,CAAC,CAErF,mBACEV,IAAA,QAAKkB,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBnB,IAAA,OAAIkB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAClBb,KAAK,CAACgB,GAAG,CAACC,CAAC,eAAIvB,IAAA,CAACF,WAAW,EAAa0B,IAAI,CAAED,CAAE,EAAfA,CAAC,CAACE,GAAe,CAAC,CAAC,CACnD,CAAC,CACF,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}