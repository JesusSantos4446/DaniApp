{"ast":null,"code":"// src/components/Header.jsx\nimport React from\"react\";import{reverseGeocode}from\"../services/geocode\";import{useTheme}from\"../context/ThemeContext\";import SearchCity from\"./SearchCity\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Header(_ref){let{city,onCityChange}=_ref;const{theme,toggleTheme}=useTheme();const isDark=theme===\"dark\";//  Bot贸n: usar la ubicaci贸n actual del usuario\nconst handleUseLocation=()=>{navigator.geolocation.getCurrentPosition(pos=>{const{latitude,longitude}=pos.coords;(async()=>{const realCity=await reverseGeocode(latitude,longitude);onCityChange(realCity);})();},()=>alert(\"No se pudo obtener tu ubicaci贸n\"));};return/*#__PURE__*/_jsxs(\"header\",{className:\"header\",style:{gap:\"1rem\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{minWidth:0},children:/*#__PURE__*/_jsx(\"h1\",{style:{margin:0,fontSize:\"1.25rem\",whiteSpace:\"nowrap\",overflow:\"hidden\",textOverflow:\"ellipsis\"},children:(city===null||city===void 0?void 0:city.name)||\"Ciudad\"})}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\".5rem\",flex:1,maxWidth:560},children:/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(SearchCity,{onSelect:onCityChange})})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleUseLocation,title:\"Usar ubicaci\\xF3n actual\",style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",padding:\".5rem .8rem\"},children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",fill:\"#29b6f6\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2a1 1 0 0 1 1 1v1.05A8.004 8.004 0 0 1 20.95 11H22a1 1 0 1 1 0 2h-1.05A8.004 8.004 0 0 1 13 20.95V22a1 1 0 1 1-2 0v-1.05A8.004 8.004 0 0 1 3.05 13H2a1 1 0 1 1 0-2h1.05A8.004 8.004 0 0 1 11 3.05V2a1 1 0 0 1 1-1Zm0 5a5 5 0 1 0 0 10a5 5 0 0 0 0-10Z\"})})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:toggleTheme,title:isDark?\"Cambiar a modo claro\":\"Cambiar a modo oscuro\",style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",padding:\".5rem .8rem\"},children:isDark?/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",fill:\"#FFD54F\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 4.5a1 1 0 0 1 1 1V7a1 1 0 1 1-2 0V5.5a1 1 0 0 1 1-1ZM12 17a5 5 0 1 1 0-10 5 5 0 0 1 0 10Zm0 2.5a1 1 0 0 1 1 1V21a1 1 0 1 1-2 0v-.5a1 1 0 0 1 1-1ZM4.5 12a1 1 0 0 1 1-1H7a1 1 0 1 1 0 2H5.5a1 1 0 0 1-1-1ZM17 11a1 1 0 1 1 0 2h1.5a1 1 0 1 1 0-2H17Zm-8.95 6.36a1 1 0 0 1 1.41 0l1.06 1.06a1 1 0 1 1-1.41 1.41l-1.06-1.06a1 1 0 0 1 0-1.41ZM15.48 5.64a1 1 0 0 1 1.41 0l1.06 1.06a1 1 0 1 1-1.41 1.41L15.48 7.05a1 1 0 0 1 0-1.41ZM5.64 8.52a1 1 0 1 1 1.41-1.41L8.11 8.17a1 1 0 1 1-1.41 1.41L5.64 8.52Zm10.83 7.31a1 1 0 0 1 1.41 0l1.06 1.06a1 1 0 1 1-1.41 1.41l-1.06-1.06a1 1 0 0 1 0-1.41Z\"})}):/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",fill:\"#4FC3F7\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M21 12.79A9 9 0 1 1 11.21 3a7 7 0 1 0 9.79 9.79Z\"})})})]});}","map":{"version":3,"names":["React","reverseGeocode","useTheme","SearchCity","jsx","_jsx","jsxs","_jsxs","Header","_ref","city","onCityChange","theme","toggleTheme","isDark","handleUseLocation","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","coords","realCity","alert","className","style","gap","children","minWidth","margin","fontSize","whiteSpace","overflow","textOverflow","name","display","alignItems","flex","maxWidth","onSelect","onClick","title","justifyContent","padding","xmlns","width","height","fill","viewBox","d"],"sources":["C:/Users/jesus/Documents/DaniProject/react-api-mini/src/components/Header.jsx"],"sourcesContent":["// src/components/Header.jsx\r\nimport React from \"react\";\r\nimport { reverseGeocode } from \"../services/geocode\";\r\nimport { useTheme } from \"../context/ThemeContext\";\r\nimport SearchCity from \"./SearchCity\";\r\n\r\nexport default function Header({ city, onCityChange }) {\r\n  const { theme, toggleTheme } = useTheme();\r\n  const isDark = theme === \"dark\";\r\n\r\n  //  Bot贸n: usar la ubicaci贸n actual del usuario\r\n  const handleUseLocation = () => {\r\n    navigator.geolocation.getCurrentPosition(\r\n      (pos) => {\r\n        const { latitude, longitude } = pos.coords;\r\n        (async () => {\r\n  const realCity = await reverseGeocode(latitude, longitude);\r\n  onCityChange(realCity);\r\n})();\r\n      },\r\n      () => alert(\"No se pudo obtener tu ubicaci贸n\")\r\n    );\r\n  };\r\n\r\n  return (\r\n    <header className=\"header\" style={{ gap: \"1rem\" }}>\r\n      {/* T铆tulo: nombre de la ciudad */}\r\n      <div style={{ minWidth: 0 }}>\r\n        <h1\r\n          style={{\r\n            margin: 0,\r\n            fontSize: \"1.25rem\",\r\n            whiteSpace: \"nowrap\",\r\n            overflow: \"hidden\",\r\n            textOverflow: \"ellipsis\",\r\n          }}\r\n        >\r\n          {city?.name || \"Ciudad\"}\r\n        </h1>\r\n      </div>\r\n\r\n      {/* Centro: buscador */}\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          gap: \".5rem\",\r\n          flex: 1,\r\n          maxWidth: 560,\r\n        }}\r\n      >\r\n        <div style={{ flex: 1 }}>\r\n          <SearchCity onSelect={onCityChange} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bot贸n: ubicaci贸n actual */}\r\n      <button\r\n        className=\"btn\"\r\n        onClick={handleUseLocation}\r\n        title=\"Usar ubicaci贸n actual\"\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          padding: \".5rem .8rem\",\r\n        }}\r\n      >\r\n        {/* cono de localizaci贸n */}\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"20\"\r\n          height=\"20\"\r\n          fill=\"#29b6f6\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path d=\"M12 2a1 1 0 0 1 1 1v1.05A8.004 8.004 0 0 1 20.95 11H22a1 1 0 1 1 0 2h-1.05A8.004 8.004 0 0 1 13 20.95V22a1 1 0 1 1-2 0v-1.05A8.004 8.004 0 0 1 3.05 13H2a1 1 0 1 1 0-2h1.05A8.004 8.004 0 0 1 11 3.05V2a1 1 0 0 1 1-1Zm0 5a5 5 0 1 0 0 10a5 5 0 0 0 0-10Z\" />\r\n        </svg>\r\n      </button>\r\n\r\n      {/* Bot贸n: modo claro/oscuro */}\r\n      <button\r\n        className=\"btn\"\r\n        onClick={toggleTheme}\r\n        title={isDark ? \"Cambiar a modo claro\" : \"Cambiar a modo oscuro\"}\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          padding: \".5rem .8rem\",\r\n        }}\r\n      >\r\n        {isDark ? (\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"20\"\r\n            height=\"20\"\r\n            fill=\"#FFD54F\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path d=\"M12 4.5a1 1 0 0 1 1 1V7a1 1 0 1 1-2 0V5.5a1 1 0 0 1 1-1ZM12 17a5 5 0 1 1 0-10 5 5 0 0 1 0 10Zm0 2.5a1 1 0 0 1 1 1V21a1 1 0 1 1-2 0v-.5a1 1 0 0 1 1-1ZM4.5 12a1 1 0 0 1 1-1H7a1 1 0 1 1 0 2H5.5a1 1 0 0 1-1-1ZM17 11a1 1 0 1 1 0 2h1.5a1 1 0 1 1 0-2H17Zm-8.95 6.36a1 1 0 0 1 1.41 0l1.06 1.06a1 1 0 1 1-1.41 1.41l-1.06-1.06a1 1 0 0 1 0-1.41ZM15.48 5.64a1 1 0 0 1 1.41 0l1.06 1.06a1 1 0 1 1-1.41 1.41L15.48 7.05a1 1 0 0 1 0-1.41ZM5.64 8.52a1 1 0 1 1 1.41-1.41L8.11 8.17a1 1 0 1 1-1.41 1.41L5.64 8.52Zm10.83 7.31a1 1 0 0 1 1.41 0l1.06 1.06a1 1 0 1 1-1.41 1.41l-1.06-1.06a1 1 0 0 1 0-1.41Z\" />\r\n          </svg>\r\n        ) : (\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"20\"\r\n            height=\"20\"\r\n            fill=\"#4FC3F7\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path d=\"M21 12.79A9 9 0 1 1 11.21 3a7 7 0 1 0 9.79 9.79Z\" />\r\n          </svg>\r\n        )}\r\n      </button>\r\n    </header>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}