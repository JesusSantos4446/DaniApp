{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jesus\\\\Documents\\\\DaniProject\\\\react-api-mini\\\\src\\\\components\\\\SearchCity.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { searchCities } from \"../services/weather\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SearchCity({\n  onSelect\n}) {\n  _s();\n  const [q, setQ] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const [open, setOpen] = useState(false);\n  const timer = useRef();\n  useEffect(() => {\n    clearTimeout(timer.current);\n    timer.current = setTimeout(async () => {\n      try {\n        const data = await searchCities(q, 8);\n        setResults(data);\n        setOpen(data.length > 0);\n      } catch {\n        setResults([]);\n        setOpen(false);\n      }\n    }, 300);\n    return () => clearTimeout(timer.current);\n  }, [q]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"input\",\n      placeholder: \"Buscar ciudad (m\\xEDn. 2 letras)\\u2026\",\n      value: q,\n      onChange: e => setQ(e.target.value),\n      onFocus: () => results.length && setOpen(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), open && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropdown\",\n      children: results.map(r => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"option\",\n        onMouseDown: () => {\n          onSelect({\n            name: r.label,\n            latitude: r.latitude,\n            longitude: r.longitude\n          });\n          setQ(r.label);\n          setOpen(false);\n        },\n        children: r.label\n      }, r.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchCity, \"b3Zz3VBIQb7yquHHLi714WFNX0o=\");\n_c = SearchCity;\nvar _c;\n$RefreshReg$(_c, \"SearchCity\");","map":{"version":3,"names":["React","useEffect","useRef","useState","searchCities","jsxDEV","_jsxDEV","SearchCity","onSelect","_s","q","setQ","results","setResults","open","setOpen","timer","clearTimeout","current","setTimeout","data","length","className","children","placeholder","value","onChange","e","target","onFocus","fileName","_jsxFileName","lineNumber","columnNumber","map","r","onMouseDown","name","label","latitude","longitude","id","_c","$RefreshReg$"],"sources":["C:/Users/jesus/Documents/DaniProject/react-api-mini/src/components/SearchCity.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { searchCities } from \"../services/weather\";\r\n\r\nexport default function SearchCity({ onSelect }) {\r\n  const [q, setQ] = useState(\"\");\r\n  const [results, setResults] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n  const timer = useRef();\r\n\r\n  useEffect(() => {\r\n    clearTimeout(timer.current);\r\n    timer.current = setTimeout(async () => {\r\n      try {\r\n        const data = await searchCities(q, 8);\r\n        setResults(data);\r\n        setOpen(data.length > 0);\r\n      } catch {\r\n        setResults([]);\r\n        setOpen(false);\r\n      }\r\n    }, 300);\r\n    return () => clearTimeout(timer.current);\r\n  }, [q]);\r\n\r\n  return (\r\n    <div className=\"search-wrap\">\r\n      <input\r\n        className=\"input\"\r\n        placeholder=\"Buscar ciudad (mín. 2 letras)…\"\r\n        value={q}\r\n        onChange={e => setQ(e.target.value)}\r\n        onFocus={() => results.length && setOpen(true)}\r\n      />\r\n      {open && (\r\n        <div className=\"dropdown\">\r\n          {results.map(r => (\r\n            <div\r\n              key={r.id}\r\n              className=\"option\"\r\n              onMouseDown={() => {\r\n                onSelect({ name: r.label, latitude: r.latitude, longitude: r.longitude });\r\n                setQ(r.label);\r\n                setOpen(false);\r\n              }}\r\n            >\r\n              {r.label}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,YAAY,QAAQ,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,eAAe,SAASC,UAAUA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC/C,MAAM,CAACC,CAAC,EAAEC,IAAI,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC9B,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACW,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAMa,KAAK,GAAGd,MAAM,CAAC,CAAC;EAEtBD,SAAS,CAAC,MAAM;IACdgB,YAAY,CAACD,KAAK,CAACE,OAAO,CAAC;IAC3BF,KAAK,CAACE,OAAO,GAAGC,UAAU,CAAC,YAAY;MACrC,IAAI;QACF,MAAMC,IAAI,GAAG,MAAMhB,YAAY,CAACM,CAAC,EAAE,CAAC,CAAC;QACrCG,UAAU,CAACO,IAAI,CAAC;QAChBL,OAAO,CAACK,IAAI,CAACC,MAAM,GAAG,CAAC,CAAC;MAC1B,CAAC,CAAC,MAAM;QACNR,UAAU,CAAC,EAAE,CAAC;QACdE,OAAO,CAAC,KAAK,CAAC;MAChB;IACF,CAAC,EAAE,GAAG,CAAC;IACP,OAAO,MAAME,YAAY,CAACD,KAAK,CAACE,OAAO,CAAC;EAC1C,CAAC,EAAE,CAACR,CAAC,CAAC,CAAC;EAEP,oBACEJ,OAAA;IAAKgB,SAAS,EAAC,aAAa;IAAAC,QAAA,gBAC1BjB,OAAA;MACEgB,SAAS,EAAC,OAAO;MACjBE,WAAW,EAAC,wCAAgC;MAC5CC,KAAK,EAAEf,CAAE;MACTgB,QAAQ,EAAEC,CAAC,IAAIhB,IAAI,CAACgB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MACpCI,OAAO,EAAEA,CAAA,KAAMjB,OAAO,CAACS,MAAM,IAAIN,OAAO,CAAC,IAAI;IAAE;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChD,CAAC,EACDnB,IAAI,iBACHR,OAAA;MAAKgB,SAAS,EAAC,UAAU;MAAAC,QAAA,EACtBX,OAAO,CAACsB,GAAG,CAACC,CAAC,iBACZ7B,OAAA;QAEEgB,SAAS,EAAC,QAAQ;QAClBc,WAAW,EAAEA,CAAA,KAAM;UACjB5B,QAAQ,CAAC;YAAE6B,IAAI,EAAEF,CAAC,CAACG,KAAK;YAAEC,QAAQ,EAAEJ,CAAC,CAACI,QAAQ;YAAEC,SAAS,EAAEL,CAAC,CAACK;UAAU,CAAC,CAAC;UACzE7B,IAAI,CAACwB,CAAC,CAACG,KAAK,CAAC;UACbvB,OAAO,CAAC,KAAK,CAAC;QAChB,CAAE;QAAAQ,QAAA,EAEDY,CAAC,CAACG;MAAK,GARHH,CAAC,CAACM,EAAE;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OASN,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACxB,EAAA,CAjDuBF,UAAU;AAAAmC,EAAA,GAAVnC,UAAU;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}